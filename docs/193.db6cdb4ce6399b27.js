"use strict";(self.webpackChunkmyapp=self.webpackChunkmyapp||[]).push([[193],{193:(L,x,u)=>{u.r(x),u.d(x,{TodoAppModule:()=>d});var r=u(895),l=u(485),t=u(256);class a{constructor(){this.tasks=[{id:4,task:"Learn Angular",state:"",checked:!1},{id:3,task:"Frontend developer",state:"",checked:!1},{id:2,task:"New proyect",state:"",checked:!1},{id:1,task:"Coding practice",state:"",checked:!1}],this.todoInput=""}createTask(e){this.todoInput=e.trim(),this.tasks.unshift({id:this.tasks.length+1,task:this.todoInput,state:"",checked:!1}),this.saveLocalStorage()}deleteTask(e){this.tasks=this.tasks.filter(o=>o!=this.tasks[e]),this.saveLocalStorage()}deleteCompletedTasks(){this.tasks=this.tasks.filter(e=>"completed"!=e.state),this.saveLocalStorage()}editTask(){}saveLocalStorage(){const e=this.tasks.map(o=>({id:o.id,task:o.task,state:o.state,checked:o.checked}));localStorage.setItem("mydayapp-angular",JSON.stringify(e))}loadLocalStorage(){localStorage.getItem("mydayapp-angular")&&(this.tasks=JSON.parse(localStorage.getItem("mydayapp-angular")))}}function A(s,e){if(1&s){const o=t.EpF();t.TgZ(0,"footer",1)(1,"span",2)(2,"strong"),t._uU(3),t.qZA(),t._uU(4),t.ALo(5,"i18nPlural"),t.qZA(),t.TgZ(6,"ul",3)(7,"li")(8,"a",4),t._uU(9,"All"),t.qZA()(),t.TgZ(10,"li")(11,"a",5),t._uU(12,"Pending"),t.qZA()(),t.TgZ(13,"li")(14,"a",6),t._uU(15,"Completed"),t.qZA()()(),t.TgZ(16,"button",7),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.deleteCompletedTasks())}),t._uU(17,"Clear completed"),t.qZA()()}if(2&s){const o=t.oxw();t.xp6(3),t.Oqu(o.taskListLength),t.xp6(1),t.hij(" ",t.xi3(5,2,o.taskListLength,o.itemsMap)," left")}}a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"});class h{ngDoCheck(){this.counterView(),this.displayFooter=this.todoService.tasks.length}constructor(){this.todoService=(0,t.f3M)(a),this.displayFooter=this.todoService.tasks.length,this.taskListLength=this.todoService.tasks.length,this.itemsMap={"=1":"item",other:"items"},this.todoService.loadLocalStorage()}counterView(){this.taskListLength=this.todoService.tasks.filter(e=>""===e.state||"editing"===e.state).length}deleteCompletedTasks(){this.todoService.deleteCompletedTasks()}}h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["todoApp-footer"]],decls:1,vars:1,consts:[["class","footer",4,"ngIf"],[1,"footer"],[1,"todo-count"],[1,"filters"],["routerLink","/all","routerLinkActive","selected"],["routerLink","/pending","routerLinkActive","selected"],["routerLink","/completed","routerLinkActive","selected"],[1,"clear-completed",3,"click"]],template:function(e,o){1&e&&t.YNc(0,A,18,5,"footer",0),2&e&&t.Q6J("ngIf",o.displayFooter)},dependencies:[r.O5,l.rH,l.Od,r.Gx]});class m{constructor(){this.todoService=(0,t.f3M)(a)}createTask(e){""!==e.target.value&&(this.todoService.createTask(e.target.value),e.target.value="")}}function S(s,e){1&s&&(t.TgZ(0,"section",1)(1,"ul",2),t._UZ(2,"router-outlet"),t.qZA()())}m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["todoApp-todobox"]],decls:1,vars:0,consts:[["placeholder","Type new todo","autofocus","","type","text",1,"new-todo",3,"keyup.Enter"]],template:function(e,o){1&e&&(t.TgZ(0,"input",0),t.NdJ("keyup.Enter",function(i){return o.createTask(i)}),t.qZA())}});class f{constructor(){this.todoService=(0,t.f3M)(a),this.displaySection=this.todoService.tasks.length}ngDoCheck(){this.displaySection=this.todoService.tasks.length}}f.\u0275fac=function(e){return new(e||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["todoApp-todolist"]],decls:1,vars:1,consts:[["class","main",4,"ngIf"],[1,"main"],[1,"todo-list"]],template:function(e,o){1&e&&t.YNc(0,S,3,0,"section",0),2&e&&t.Q6J("ngIf",o.displaySection)},dependencies:[r.O5,l.lC]});class k{}function Z(s,e){if(1&s){const o=t.EpF();t.TgZ(0,"input",6),t.NdJ("keyUp.Enter",function(i){t.CHM(o);const C=t.oxw(2);return t.KtG(C.newTask(i))})("blur",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.onBlur())})("keyup.esc",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.onBlur())}),t.qZA()}if(2&s){const o=t.oxw().$implicit,n=t.oxw();t.Q6J("value",n.textContent)("id",o.id)}}function F(s,e){if(1&s){const o=t.EpF();t.TgZ(0,"li")(1,"div",1)(2,"input",2),t.NdJ("change",function(i){const y=t.CHM(o).$implicit,v=t.oxw();return t.KtG(v.toggleSelection(y.id,i))}),t.qZA(),t.TgZ(3,"label",3),t.NdJ("dblclick",function(i){const y=t.CHM(o).$implicit,v=t.oxw();return t.KtG(v.editTask(y.id,i))}),t._uU(4),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){const C=t.CHM(o).index,y=t.oxw();return t.KtG(y.deleteTask(C))}),t.qZA()(),t.YNc(6,Z,1,2,"input",5),t.qZA()}if(2&s){const o=e.$implicit,n=t.oxw();t.Tol(o.state),t.xp6(2),t.Q6J("checked",o.checked),t.xp6(2),t.hij(" ",o.task," "),t.xp6(2),t.Q6J("ngIf",n.modeEdit)}}k.\u0275fac=function(e){return new(e||k)},k.\u0275cmp=t.Xpm({type:k,selectors:[["app-layout-page"]],decls:11,vars:0,consts:[[1,"todoapp"],[1,"header"],[1,"container"],[1,"container","todoapp-wrapper"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"header",1)(2,"div",2)(3,"h1"),t._uU(4,"My Day"),t.qZA(),t.TgZ(5,"p"),t._uU(6,"All my tasks in one place | By Daniel Pineda for Platzi"),t.qZA(),t._UZ(7,"todoApp-todobox"),t.qZA()(),t.TgZ(8,"div",3),t._UZ(9,"todoApp-todolist")(10,"todoApp-footer"),t.qZA()())},dependencies:[h,m,f]});class c{constructor(){this.todoService=(0,t.f3M)(a),this.router=(0,t.f3M)(l.F0),this.tasks=this.todoService.tasks,this.filterTasks1=[],this.modeEdit=!1,this.textContent="",this.idForChange=0,this.contentTask="",this.confirmTask=!1}ngDoCheck(){this.tasks=this.todoService.tasks,this.filterTasks()}ngOnInit(){}filterTasks(){this.router.url.includes("all")?this.filterTasks1=this.tasks.filter(e=>""===e.state||"completed"===e.state||"editing"===e.state):this.router.url.includes("pending")?this.filterTasks1=this.tasks.filter(e=>""===e.state||"editing"===e.state):this.router.url.includes("completed")&&(this.filterTasks1=this.tasks.filter(e=>"completed"===e.state||"editing"===e.state))}toggleSelection(e,o){o.target.checked?(this.tasks.find(n=>n.id===e).state="completed",this.tasks.find(n=>n.id===e).checked=!0,this.filterTasks(),this.todoService.saveLocalStorage()):(this.tasks.find(n=>n.id===e).state="",this.tasks.find(n=>n.id===e).checked=!1,this.filterTasks(),this.todoService.saveLocalStorage())}deleteTask(e){this.todoService.deleteTask(e)}editTask(e,o){this.modeEdit=!0,this.filterTasks1.find(n=>n.id===e).state="editing",this.textContent=o.target.textContent.trim(),this.idForChange=e,setInterval(()=>{this.inputFocus(e)},100)}newTask(e){""!==e.target.value&&(this.contentTask=e.target.value,this.confirmTask=!0,this.createNewTask(this.idForChange))}createNewTask(e){this.confirmTask&&(this.filterTasks1.find(o=>o.id===e).task=this.contentTask,this.filterTasks1.find(o=>o.id===e).state="",this.filterTasks1.find(o=>o.id===e).checked=!1,this.modeEdit=!1,this.todoService.saveLocalStorage())}onBlur(){this.modeEdit=!1,this.filterTasks1.find(e=>e.id===this.idForChange).state="",this.filterTasks1.find(e=>e.id===this.idForChange).checked=!1}inputFocus(e){this.modeEdit&&document.getElementById(e).focus()}}c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["todoApp-tasks"]],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],[1,"view"],["type","checkbox",1,"toggle",3,"checked","change"],[3,"dblclick"],[1,"destroy",3,"click"],["class","edit",3,"value","id","keyUp.Enter","blur","keyup.esc",4,"ngIf"],[1,"edit",3,"value","id","keyUp.Enter","blur","keyup.esc"]],template:function(e,o){1&e&&t.YNc(0,F,7,5,"li",0),2&e&&t.Q6J("ngForOf",o.filterTasks1)},dependencies:[r.sg,r.O5]});class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=t.Xpm({type:g,selectors:[["todoApp-all-page"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"todoApp-tasks")},dependencies:[c]});class _{}_.\u0275fac=function(e){return new(e||_)},_.\u0275cmp=t.Xpm({type:_,selectors:[["todoApp-pending-page"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"todoApp-tasks")},dependencies:[c]});class T{}T.\u0275fac=function(e){return new(e||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["todoApp-completed-page"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"todoApp-tasks")},dependencies:[c]});const w=[{path:"",component:k,children:[{path:"all",component:g},{path:"pending",component:_},{path:"completed",component:T},{path:"**",redirectTo:"all"}]}];class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[l.Bz.forChild(w),l.Bz]});class d{}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[r.ez,p]})}}]);